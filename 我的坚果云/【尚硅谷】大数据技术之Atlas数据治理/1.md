元数据管理

数据字典/数据资产目录

数据质量监控/数据治理



### Atlas架构原理

<img src="1.assets/image-20220523190233709.png" alt="image-20220523190233709" style="zoom:50%;" />

Solr 是给用户提供的查询元数据的一个查询引擎，类似ES。

### Atlas使用

atlas在安装之初，需要手动执行一次元数据的全量导入，后续altas便会利用HiveHook 增量同步Hive的元数据。

### Hive元数据初次导入

进入到altas的安装目录下，cd hook-bin，会有一个 import-hive.sh。

直接执行：

```bash
sh  import-hive.sh
```

就会进行元数据的初次导入。

执行完毕后，刷新altas的 ui 界面。

### Hive元数据增量同步

增量同步的，无需人为干预，只要 hive 中的元数据发生变化（执行DDL语句），HiveHook 就会将元数据的变动通知 Altas。

除此之外，altas 还会根据 DML 语句获取数据之间的血缘关系。

### 血缘关系

还是在 atlas 的ui界面上，点击某个表之后，点击 Lineage 标签页，可以查看血缘关系。

比如这样的一个需求：

根据订单事实表和地区维度表，求出每个省份的订单次数和订单金额。

大概的sql语句：

<img src="1.assets/image-20220523221657873.png" alt="image-20220523221657873" style="zoom:50%;" />

关联：

<img src="1.assets/image-20220523221459494.png" alt="image-20220523221459494" style="zoom:50%;" />

查看ads_order_by_province 表的血缘关系：

<img src="1.assets/image-20220523222232162.png" alt="image-20220523222232162" style="zoom:50%;" />

还可以支持字段级的血缘查看：

比如我现在要看这个表下面的order_amount字段是怎么算的：

<img src="1.assets/image-20220523222629633.png" alt="image-20220523222629633" style="zoom:50%;" />

<img src="1.assets/image-20220523222710412.png" alt="image-20220523222710412" style="zoom:50%;" />

### Altas的内存配置

如果计划存储万个元数据对象，建议调整参数值获得最佳的 JVM GC 性能。详细可见：

https://www.bilibili.com/video/BV1jA411F76d?p=19&spm_id_from=pageDriver

<img src="1.assets/image-20220523223129623.png" alt="image-20220523223129623" style="zoom:50%;" />



--------------------------------------------------------------------------------------

不是尚硅谷的。

### 超全的大数据治理体系 数据如何治理

https://www.bilibili.com/video/BV1tf4y167Dz?spm_id_from=333.337.search-card.all.click

<img src="1.assets/image-20220523225153961.png" alt="image-20220523225153961" style="zoom:50%;" />

<img src="1.assets/image-20220523224555133.png" alt="image-20220523224555133" style="zoom:50%;" />

<img src="1.assets/image-20220523225301733.png" alt="image-20220523225301733" style="zoom:50%;" />

# 大数据治理体系全流程基础讲解

https://www.bilibili.com/video/BV1mF41177yK?spm_id_from=333.337.search-card.all.click

理论篇。

### 数仓基础之数据架构

<img src="1.assets/image-20220524161242920.png" alt="image-20220524161242920" style="zoom:50%;" />

### 数据治理之数据接入

- 数据探查
- 数据定义
- 数据获取
- 数据对账



####  数据对账实现方式

<img src="1.assets/image-20220524165934543.png" alt="image-20220524165934543" style="zoom:50%;" />

### 数据治理之数据处理

- 数据提取；
  - <img src="1.assets/image-20220524191752923.png" alt="image-20220524191752923" style="zoom:50%;" />
  - <img src="1.assets/image-20220524191857693.png" alt="image-20220524191857693" style="zoom:50%;" />
- 数据清洗；
  - <img src="1.assets/image-20220524192113838.png" alt="image-20220524192113838" style="zoom:50%;" />
  - <img src="1.assets/image-20220524192206903.png" alt="image-20220524192206903" style="zoom:50%;" />
  - <img src="1.assets/image-20220524192229139.png" alt="image-20220524192229139" style="zoom:50%;" />
  - <img src="1.assets/image-20220524192314273.png" alt="image-20220524192314273" style="zoom:50%;" />
- 数据关联
  - <img src="1.assets/image-20220524192433637.png" alt="image-20220524192433637" style="zoom:50%;" />

### 数据治理之数据质量、运维监控

<img src="1.assets/image-20220524192546691.png" alt="image-20220524192546691" style="zoom:50%;" />

其中第三部分，第四部分 政务中多用。

- 质量管理

<img src="1.assets/image-20220524192626402.png" alt="image-20220524192626402" style="zoom:50%;" />

<img src="1.assets/image-20220524192736563.png" alt="image-20220524192736563" style="zoom:50%;" />

<img src="1.assets/image-20220524192853092.png" alt="image-20220524192853092" style="zoom:50%;" />

- 运维管理

  这一块是大数据运维工程师来做的。

  - <img src="1.assets/image-20220524192932534.png" alt="image-20220524192932534" style="zoom:50%;" />
  - <img src="1.assets/image-20220524192947085.png" alt="image-20220524192947085" style="zoom:50%;" />
  - <img src="1.assets/image-20220524193109134.png" alt="image-20220524193109134" style="zoom:50%;" />

- 资源编目
  
- 分级分类

需要把我们处理完的数据，做成一个目录，然后做成可视化。

### 数据治理之数据组织

这一块就是偏向应用了。

- 第一部分：主题层

  - <img src="1.assets/image-20220524193539941.png" alt="image-20220524193539941" style="zoom:50%;" />
  - <img src="1.assets/image-20220524193712454.png" alt="image-20220524193712454" style="zoom:50%;" />

- 第二部分：专题层

  从主题层直接拿数据出来，可以作为应用的。
  - <img src="1.assets/image-20220524193847841.png" alt="image-20220524193847841" style="zoom:50%;" />
  - <img src="1.assets/image-20220524193920238.png" alt="image-20220524193920238" style="zoom:50%;" />
  - <img src="1.assets/image-20220524193947127.png" alt="image-20220524193947127" style="zoom:50%;" />

