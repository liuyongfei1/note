## 从0开始带你成为消息中间件实战高手

### 009_系统面临的现实问题：大数据团队需要订单数据，该怎么办？

#### 大数据到底是干嘛的？

做为公司的老板，他可能每天到公司来的第一件事儿就是要看看昨天的销售额是多少，卖了多少件商品。可能还想要知道一共有多少个用户在我们这里购买了商品？一共有多少个订单？每个商品分别卖了多少？哪个商品是卖的最火爆的？我们的APP昨天有多少人打开了？打开APP里的人有多少人下订单购物了？

老板拿到这些数据后，才能继续去考虑公司的运用策略。

比如老板拿到这份数据后，觉得用户量还是太少了，要抓紧投放广告，多拉一些人来购物。

因此，听明白了上面这段描述，你一定就能理解什么是大数据，以及大数据团队是干什么的了。

很简单，上面说的老板每天上班的第一件事儿要了解的那些数据，其实就是大数据。

所以如果每天有100万用户来访问你的APP，积累下来的一些浏览行为、访问行为、交易行为等各种数据，这个数据量很大，所以你可以称之为"大数据"。

**大数据团队每天要负责的事情，说白了就是去尽可能的搜集每天100万用户在你APP上的各种行为数据。**

### 015_解决订单系统诸多问题的核心技术：消息中间件到底是什么？

所谓消息中间件其实就是一种系统，它自己也是独立部署的，然后我们的两个系统之间通过发消息和收消息，来进行异步的调用，而不是仅仅局限于同步调用。

MQ进行流量削峰的效果：系统A发送过来的每秒1万请求是一个流量洪峰，然后MQ直接扛下来了，都存储在自己本地磁盘里，这个过程就是流量削峰的过程，瞬间把一个洪峰给削下来了，让系统B后续慢慢获取消息来处理。

### 021_设计生产架构之前的功课：消息中间件路由中心的架构是什么？

RocketMQ 的核心其实包含了四个部分：

1. 第一块就是他的 NameServer，这个东西很重要，他负责管理集群所有的Broker信息，让使用MQ的系统通过他可以感知到集群里有哪些Broker；

2. 第二块就是Broker集群本身了，必须得在多台机器上部署这么一个集群，而且还得用主从架构实现数据多副本存储和高可用。

3. 第三块就是像MQ发送消息的那些系统了，这些系统一般称之为生产者，这里也有很多细节是值得深究的，因为这些生产者到底是如何从NameServer拉取路由信息的？如何选择Broker机器简历连接以及发送消息的？

4. 第四块就是从MQ获取消息的那些系统，这些系统称之为消费者。仔细想想消费者这块其实也隐藏了很多技术细节，比如到底是Broker主动推送消息给消费者，还是消费者自己从Broker里拉取消息？这些也都很值得深究。

   