## **075、对象太多了！堆内存实在是放不下，只能内存溢出！**

### 2、从对象在Eden区分配开始讲起

### 3、高并发场景下导致ygc后存活对象太多

当然因为各种各样的情况，一旦出现了高并发场景，导致ygc后很多请求还没处理完毕，存活对象太多，可能就在Survivor区域放不下，此时就只能进入老年代了，老年代很快就会放满了。

一旦老年代放满了就会触发Full GC。

但是假设，老年代GC过后，依然存活下来了很多的对象，这个时候如果年轻代还有一批对象等着放入老年代，老年代GC过后，空间还是不足怎么办？这个时候，只能是内存溢出了。

### 4、什么时候会发生堆内存的溢出？

发生堆内存溢出的原因，其实总结下来，就一句话：

有限的内存中存放了很多的对象，而且大多数都是存活的，此时即使GC过后，还是大部分都存活，所以要继续放入更多对象已经不可能了，此时只能内存溢出问题。

##### 一般来说，发生内存溢出有两种主要的场景

- 系统承载高并发，因为请求量大，导致大量对象都是存活的，所以要继续放入新的对象实在是不行了，此时就会引发OOM系统崩溃；
- 系统有内存泄露问题，就是莫名其妙弄了很多对象，结果对象都是存活的，没有及时取消他们的引用，导致触发GC还是无法回收，此时只能引发内存溢出，因为内存实在放不下更多对象了。

因此总结起来，一般引发OOM，要不然是系统负载过高，要不然就是有内存泄露问题。

