### 系统的压力

因为**4核8G**的机器一般**每秒钟抗几百请求**都没问题，现在才每秒两三百请求，CPU资源使用率都不超过50%。

可以说8台4核8G的机器，每台机器每秒高峰期两三百请求是很轻松的。 



然后数据库服务器因为用的是16核32G的配置，因此之前压测的时候知道他即使每秒上万请求也能做到，只不过那个已经是他的极限 了，会导致数据库服务器的CPU、磁盘、网络、IO、内存的使用率几乎达到极限。 

但是一般来说在每秒四五千的请求的话，这样的数据库服务器是没什么问题的，何况经过线上监控统计，现在数据库服务器在高峰期的
**每秒请求量也就是三四千**的样子，因此基本上还没什么大问题。

详见：003 系统面临的现实问题。



所以这时如果引入MQ，就可以解决这个问题了。MQ这个技术抗高并发的能力远远高于数据库，同样的机器配置下，如果数据库可以 抗每秒6000请求，MQ至少可以抗每秒几万请求。 

为什么呢?因为数据库复杂啊，他要能够支持你执行复杂的SQL语句，支持事务等复杂的机制，支持你对数据进行增删改查，听着简 单，其实是很复杂的!所以一般数据库单服务器也就支撑每秒几千的请求。 

但是MQ就不一样了，他的核心功能就是让你发消息给他，再让别人从他这里获取消息，这个就简单的多了，所以同等机器配置下， MQ一般都能抗几万并发请求。 



