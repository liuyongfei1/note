## redisson的可重入锁学习之watchdog

### 问题

假如你的某个客户端上锁了之后，过了5分钟，10分钟，都没释放掉这个锁，那么你觉得会怎么样呢？

锁对应的key刚开始的生存周期其实就是30秒而已，难道是默认情况下30秒后这个锁就自动释放？

肯定不是这样的，如果分布式锁是这样设计的话，那肯定是没办法用的。

### watchdog的原理

判断一下客户端是否还持有这把锁，如果还持有这把锁的话，会去判断该锁的可存活时间，如果是快要过期的话，就会去执行一段脚本，给这个锁进行一个延期。

只要你的这个lock没有被释放掉，

